<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PERFECT COMPUTERS â€” Repair Portal</title>
<link rel="icon" href="data:,">
<style>
  /* --- Base / Theme --- */
  :root{
    --bg1:#071428;
    --bg2:#0f2330;
    --accent: #00c3ff;
    --glass: rgba(255,255,255,0.06);
    --card-bg: #ffffff;
    --muted: #c7d0d8;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(135deg,var(--bg1), var(--bg2));
    color: #e6f7ff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
    display:flex;
    flex-direction:column;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:18px 28px;
    gap:12px;
  }
  .brand-title{
    display:flex;
    align-items:center;
    gap:14px;
  }
  .logo-placeholder{
    width:46px;height:46px;border-radius:8px;background:linear-gradient(135deg,#00b4ff,#6b8cff);box-shadow:0 6px 18px rgba(0,0,0,0.6);
    display:flex;align-items:center;justify-content:center;font-weight:700;color:white;
  }
  h1{margin:0;font-size:20px;letter-spacing:1px}
  p.lead{margin:0;color:var(--muted);font-size:13px}

  /* --- Container --- */
  .container{
    padding:22px;
    display:flex;
    gap:20px;
    align-items:flex-start;
  }

  /* --- Grid of company boxes --- */
  .grid{
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    gap:28px;
    flex:1;
    max-width:1200px;
  }
  .company-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius:12px;
    height:150px;
    display:flex;
    align-items:center;
    justify-content:center;
    border:4px solid rgba(255,255,255,0.06);
    cursor:pointer;
    transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    color:#f6fbff;
    font-weight:600;
    font-size:18px;
    text-transform:uppercase;
  }
  .company-card:hover{
    transform:translateY(-6px) scale(1.02);
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    border-color: rgba(0,195,255,0.25);
  }

  /* --- Right sidebar / Owner login --- */
  .right-panel{
    width:300px;
    min-height:300px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .admin-box{
    background:var(--glass);
    border-radius:12px;
    padding:14px;
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,0.04);
  }
  .admin-toggle{
    position:fixed;
    right:18px;top:18px;background:transparent;border:2px solid rgba(255,255,255,0.06);
    color:var(--muted);padding:8px 10px;border-radius:10px;cursor:pointer;
  }
  .admin-box h3{margin:0 0 8px 0;color:#fff}
  .admin-box input{
    width:100%;padding:10px;margin:8px 0;border-radius:8px;border:none;background:rgba(255,255,255,0.04);color:#fff;
  }
  .admin-box button{width:100%;padding:10px;border-radius:8px;border:none;background:linear-gradient(90deg,#00b4ff,#00ffa3);color:#042331;font-weight:700;cursor:pointer}
  .hint{font-size:12px;color:var(--muted);margin-top:8px}

  /* --- Modal (Custom) --- */
  .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,10,0.6);display:none;align-items:center;justify-content:center;z-index:1200}
  .modal {width:420px;background:var(--card-bg);border-radius:12px;padding:18px;color:#0b1b24;box-shadow:0 30px 80px rgba(2,6,10,0.6)}
  .modal h2{margin:0 0 8px 0}
  .field{margin:8px 0}
  .field label{display:block;font-size:13px;color:#233b46;margin-bottom:6px;font-weight:600}
  .field input[type="text"], .field input[type="tel"], .field textarea, .field select{
    width:100%;padding:10px;border-radius:8px;border:1px solid #d7e2e8;font-size:14px
  }
  .camera-row{display:flex;gap:8px;align-items:center;margin-top:8px}
  .btn{padding:10px 12px;border-radius:8px;border:none;cursor:pointer}
  .btn-primary{background:linear-gradient(90deg,#00b4ff,#00ffa3);color:#042331;font-weight:700}
  .btn-ghost{background:transparent;border:1px solid #cbd8e1;color:#0b1b24}

  /* --- Form page styling (opened in new tab) --- */
  /* We'll inject style into the new tab via JS. */

  /* --- Responsive --- */
  @media (max-width:980px){
    .grid{grid-template-columns:repeat(2,1fr)}
    .right-panel{display:none}
  }
</style>
</head>
<body>

<header>
  <div class="brand-title">
    <div class="logo-placeholder">PC</div>
    <div>
      <h1>PERFECT COMPUTERS</h1>
      <p class="lead">Laptop repair portal â€” Customer & Owner interfaces</p>
    </div>
  </div>

  <div style="display:flex;gap:12px;align-items:center">
    <div style="font-size:13px;color:var(--muted);">Tip: Click any company to open the customer form in a new tab.</div>
    <button class="admin-toggle" id="openAdminBtn">Owner Login</button>
  </div>
</header>

<div class="container">
  <div class="grid" id="companyGrid">
    <!-- 8 company boxes -->
    <div class="company-card" data-company="HP">HP</div>
    <div class="company-card" data-company="DELL">DELL</div>
    <div class="company-card" data-company="LENOVO">LENOVO</div>
    <div class="company-card" data-company="ASUS">ASUS</div>
    <div class="company-card" data-company="ACER">ACER</div>
    <div class="company-card" data-company="APPLE">APPLE</div>
    <div class="company-card" data-company="MSI">MSI</div>
    <div class="company-card" data-company="CUSTOM" id="customCard">CUSTOM</div>
  </div>

  <aside class="right-panel">
    <div class="admin-box" id="adminBox" style="display:none">
      <h3>Owner / Admin Login</h3>
      <input id="adminUser" placeholder="Username" />
      <input id="adminPass" placeholder="Password" type="password" />
      <button id="adminLoginBtn">Login</button>
      <div class="hint">Temporary credentials: <strong>1 / 55</strong> (replace later in script)</div>
    </div>

    <div class="admin-box">
      <h3>How customers should fill</h3>
      <ol style="margin:4px 0 0 18px;color:#0b1b24;background:#f7fcff;padding:10px;border-radius:8px">
        <li>Choose company (or CUSTOM)</li>
        <li>Enter <strong>Company, Model No, Series, Description</strong></li>
        <li>Add contact number and one clear picture</li>
        <li>Press Send â€” we'll show confirmation (connect backend later)</li>
      </ol>
    </div>
  </aside>
</div>

<!-- Custom modal -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal" role="dialog" aria-modal="true">
    <h2>Custom Repair Request</h2>
    <div class="field">
      <label>Company</label>
      <input id="c_company" type="text" placeholder="E.g. MyBrand" />
    </div>
    <div class="field">
      <label>Model</label>
      <input id="c_model" type="text" placeholder="Model number" />
    </div>
    <div class="field">
      <label>Series</label>
      <input id="c_series" type="text" placeholder="Series / Sub-model" />
    </div>
    <div class="field">
      <label>Description / Issue</label>
      <textarea id="c_issue" rows="3" placeholder="Describe the problem"></textarea>
    </div>
    <div class="field">
      <label>Contact No</label>
      <input id="c_contact" type="tel" placeholder="Mobile number" />
    </div>
    <div class="field">
      <label>Repaired status</label>
      <div style="display:flex;gap:12px;margin-top:6px">
        <label style="display:flex;gap:6px;align-items:center"><input name="repstat" type="radio" value="repaired"> Repaired</label>
        <label style="display:flex;gap:6px;align-items:center"><input name="repstat" type="radio" value="not_repaired" checked> Not Repaired</label>
      </div>
    </div>

    <div class="field">
      <label>Picture (required)</label>
      <div class="camera-row">
        <label class="btn btn-ghost" id="takePicBtn">ðŸ“· Take / Choose Photo</label>
        <input id="c_file" accept="image/*" type="file" style="display:none" capture="environment">
        <div id="thumb" style="min-width:80px;min-height:60px;border:1px dashed #cbd8e1;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#3b4d56">No photo</div>
      </div>
    </div>

    <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
      <button class="btn" id="cancelModal">Cancel</button>
      <button class="btn btn-primary" id="sendCustom">Send</button>
    </div>
  </div>
</div>

<script>
/* ========== Company click opens form in new tab ========== */
const grid = document.getElementById('companyGrid');
grid.addEventListener('click', e => {
  const card = e.target.closest('.company-card');
  if(!card) return;
  const company = card.dataset.company || 'CUSTOM';
  if(company === 'CUSTOM'){
    openCustomModal();
    return;
  }
  // open new tab and write a brand-specific form
  const newWin = window.open('', '_blank');
  if(!newWin){ alert('Popup blocked. Allow popups for this site to open the form.'); return; }
  const doc = newWin.document;
  const style = `
    body{font-family:Inter,Arial;color:#041823;background:linear-gradient(180deg,#f6fbff,#eef9ff);margin:0;padding:30px}
    .card{max-width:760px;margin:30px auto;background:#fff;border-radius:12px;padding:22px;box-shadow:0 20px 50px rgba(2,16,24,0.12)}
    h1{margin:0 0 8px 0;color:#022b33}
    p.note{color:#3b5560;margin:6px 0 18px 0}
    label{display:block;margin:12px 0 6px 0;color:#23454f;font-weight:700}
    input, textarea{width:100%;padding:10px;border:1px solid #d9e6ec;border-radius:8px;font-size:14px}
    .photo-box{width:100%;height:200px;border-radius:8px;border:2px dashed #c9dde3;display:flex;align-items:center;justify-content:center;color:#78949b;margin-top:8px}
    .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:14px}
    .btn{padding:10px 14px;border-radius:8px;border:none;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,#00b4ff,#00ffa3);color:#032b2b;font-weight:700}
    .btn-ghost{background:transparent;border:1px solid #bcd6df}
    .top-row{display:flex;gap:12px;align-items:center;justify-content:space-between}
  `;
  doc.head.innerHTML = '<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Request - '+company+'</title><style>'+style+'</style>';
  doc.body.innerHTML = `
    <div class="card">
      <div class="top-row"><h1>Service Request - ${company}</h1><div style="color:#698a92">PERFECT COMPUTERS</div></div>
      <p class="note"><strong>Note:</strong> Aapko model no, series, company ka naam, aur issue likhna jaruri hai ek picture ke saath.</p>

      <label>Company</label><input id="company" value="${company}" readonly>
      <label>Model No</label><input id="model" placeholder="Enter model number">
      <label>Series</label><input id="series" placeholder="Series / Sub-model">
      <label>Description / Issue</label><textarea id="issue" rows="4" placeholder="Describe the issue"></textarea>
      <label>Contact No</label><input id="contact" type="tel" placeholder="Mobile number">

      <label>Picture (required)</label>
      <div class="photo-box" id="photoBox">No photo chosen</div>
      <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
        <input id="fileInput" accept="image/*" type="file" style="display:none" capture="environment">
        <button class="btn btn-ghost" id="chooseBtn">Choose / Take Photo</button>
        <button class="btn btn-primary" id="sendBtn">Send Request</button>
      </div>
    </div>
  `;

  // Add button event handlers in new tab
  const chooseBtn = doc.getElementById('chooseBtn');
  const sendBtn = doc.getElementById('sendBtn');
  const fileInput = doc.getElementById('fileInput');
  const photoBox = doc.getElementById('photoBox');
  chooseBtn.addEventListener('click', ()=>fileInput.click());
  fileInput.addEventListener('change', (ev)=>{
    const f = ev.target.files[0];
    if(!f) return;
    const url = URL.createObjectURL(f);
    photoBox.innerHTML = '<img src="'+url+'" style="max-width:100%;max-height:100%;border-radius:6px"/>';
  });

  sendBtn.addEventListener('click', ()=>{
    const data = {
      company: doc.getElementById('company').value.trim(),
      model: doc.getElementById('model').value.trim(),
      series: doc.getElementById('series').value.trim(),
      issue: doc.getElementById('issue').value.trim(),
      contact: doc.getElementById('contact').value.trim(),
      file: fileInput.files[0] ? fileInput.files[0].name : null
    };
    // validation
    if(!data.model || !data.series || !data.issue || !data.contact || !data.file){
      alert('Please fill all fields and add a picture (model, series, issue, contact and picture required).');
      return;
    }
    // Temporary action: show confirmation and log
    alert('Message sent to PERFECT COMPUTERS. Thank you!');
    console.log('FORM SUBMIT =>', data);
    // Close tab after send optionally
    // newWin.close();
  });

};

/* ========== Custom modal logic ========== */
const modalBackdrop = document.getElementById('modalBackdrop');
const customCard = document.getElementById('customCard');
customCard.addEventListener('click', openCustomModal);

function openCustomModal(){
  modalBackdrop.style.display='flex';
}
document.getElementById('cancelModal').addEventListener('click', ()=> modalBackdrop.style.display='none');

document.getElementById('takePicBtn').addEventListener('click', ()=> document.getElementById('c_file').click());
document.getElementById('c_file').addEventListener('change', e=>{
  const f = e.target.files[0];
  const thumb = document.getElementById('thumb');
  if(!f){ thumb.innerText='No photo'; return; }
  const url = URL.createObjectURL(f);
  thumb.innerHTML = '<img src="'+url+'" style="max-width:100%;max-height:100%;border-radius:6px"/>';
});

/* Send custom */
document.getElementById('sendCustom').addEventListener('click', ()=>{
  const data = {
    company: document.getElementById('c_company').value.trim(),
    model: document.getElementById('c_model').value.trim(),
    series: document.getElementById('c_series').value.trim(),
    issue: document.getElementById('c_issue').value.trim(),
    contact: document.getElementById('c_contact').value.trim(),
    repaired: (document.querySelector('input[name="repstat"]:checked')||{}).value || 'not_repaired',
    file: document.getElementById('c_file').files[0] ? document.getElementById('c_file').files[0].name : null
  };
  if(!data.company || !data.model || !data.series || !data.issue || !data.contact || !data.file){
    alert('Please complete all fields and attach a photo.');
    return;
  }
  // show success & close
  alert('Custom request sent to PERFECT COMPUTERS. Thank you!');
  console.log('CUSTOM SUBMIT =>', data);
  modalBackdrop.style.display='none';
  // reset
  document.getElementById('c_company').value='';document.getElementById('c_model').value='';document.getElementById('c_series').value='';
  document.getElementById('c_issue').value='';document.getElementById('c_contact').value='';document.getElementById('c_file').value='';
  document.getElementById('thumb').innerText='No photo';
});

/* ========== Owner login toggle & simple auth ========== */
const adminToggle = document.getElementById('openAdminBtn');
const adminBox = document.getElementById('adminBox');
adminToggle.addEventListener('click', ()=> {
  adminBox.style.display = adminBox.style.display === 'none' ? 'block' : 'none';
});

// temporary credentials check
document.getElementById('adminLoginBtn').addEventListener('click', ()=>{
  const u = document.getElementById('adminUser').value.trim();
  const p = document.getElementById('adminPass').value.trim();
  // ** Replace these simple checks with server-side authentication later **
  if(u === '1' && p === '55'){
    alert('Owner logged in (temporary). You can now access admin features.');
    // show more admin controls here if needed
  } else {
    alert('Invalid owner credentials');
  }
});
</script>
</body>
</html>
